<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Be My Valentine</title>
<style>
    body {
        margin: 0;
        font-family: "Comic Sans MS", cursive;
        background: radial-gradient(circle at top, #ffe6f2 0%, #ffd6e8 40%, #ffbfd9 100%);
        overflow: hidden;
        text-align: center;
    }

    h1 {
        color: #ff4fa3;
        font-size: 3.2rem;
        margin-top: 40px;
        text-shadow: 2px 2px white;
        transition: all 0.6s ease;
    }

    .title-love {
        color: #ff0066;
        transform: scale(1.05);
    }

    .floating-heart {
        position: fixed;
        color: #ff8bb3;
        font-size: 2rem;
        animation: floatUp 8s linear infinite;
        opacity: 0.7;
        pointer-events: none;
        z-index: 1;
    }

    @keyframes floatUp {
        0% { transform: translateY(100vh) scale(1); opacity: 0.8; }
        100% { transform: translateY(-10vh) scale(1.4); opacity: 0; }
    }

    .petal {
        position: fixed;
        color: #ff6f91;
        font-size: 1.8rem;
        animation: fallPetal 10s linear infinite;
        opacity: 0.8;
        pointer-events: none;
        z-index: 1;
    }

    @keyframes fallPetal {
        0% { transform: translateY(-10vh) rotate(0deg); opacity: 0; }
        10% { opacity: 1; }
        100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    .page-glow {
        position: fixed;
        inset: 0;
        pointer-events: none;
        box-shadow: 0 0 60px 20px rgba(255, 150, 200, 0.5) inset;
        z-index: 0;
        animation: glowPulse 4s ease-in-out infinite;
    }

    @keyframes glowPulse {
        0%, 100% { opacity: 0.6; }
        50% { opacity: 1; }
    }

    .bunny-wrapper {
        position: relative;
        display: inline-block;
        margin-top: 10px;
        z-index: 2;
    }

    #bunny {
        width: 420px;
        transition: transform 0.4s ease;
        filter: drop-shadow(0 0 18px rgba(255, 150, 200, 0.9));
    }

    .bunny-aura {
        position: absolute;
        inset: -20px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(255,192,203,0.7) 0%, rgba(255,192,203,0) 70%);
        z-index: -1;
        animation: heartbeat 2.2s ease-in-out infinite;
    }

    @keyframes heartbeat {
        0%, 100% { transform: scale(1); opacity: 0.7; }
        50% { transform: scale(1.08); opacity: 1; }
    }

    .idle-bounce {
        animation: idleBounce 2.5s ease-in-out infinite;
    }

    @keyframes idleBounce {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-10px); }
    }

    .dance {
        animation: dance 0.5s infinite alternate ease-in-out;
    }

    @keyframes dance {
        from { transform: rotate(-6deg) scale(1.05); }
        to { transform: rotate(6deg) scale(1.05); }
    }

    .blink {
        animation: blink 0.25s ease-in-out;
    }

    @keyframes blink {
        0% { transform: scaleY(1); }
        50% { transform: scaleY(0.88); }
        100% { transform: scaleY(1); }
    }

    .wave {
        animation: wave 1s ease-in-out;
    }

    @keyframes wave {
        0% { transform: rotate(0deg); }
        25% { transform: rotate(-5deg); }
        50% { transform: rotate(5deg); }
        75% { transform: rotate(-5deg); }
        100% { transform: rotate(0deg); }
    }

    .sparkle {
        position: absolute;
        font-size: 1.5rem;
        color: #ffe6ff;
        animation: sparkleFloat 2s ease-in-out infinite;
        pointer-events: none;
    }

    @keyframes sparkleFloat {
        0% { transform: translateY(0) scale(1); opacity: 1; }
        50% { transform: translateY(-10px) scale(1.3); opacity: 0.7; }
        100% { transform: translateY(0) scale(1); opacity: 1; }
    }

    .cheek-heart {
        position: absolute;
        font-size: 1.2rem;
        color: #ff6f91;
        animation: cheekHeart 3s ease-in-out infinite;
        pointer-events: none;
    }

    @keyframes cheekHeart {
        0% { transform: translateY(0) scale(1); opacity: 0.9; }
        50% { transform: translateY(-8px) scale(1.2); opacity: 0.6; }
        100% { transform: translateY(0) scale(1); opacity: 0.9; }
    }

    .btn-container {
        margin-top: 30px;
        z-index: 2;
        position: relative;
    }

    button {
        font-size: 1.6rem;
        padding: 12px 30px;
        margin: 20px;
        border-radius: 12px;
        border: none;
        cursor: pointer;
        background: white;
        color: #ff4fa3;
        font-weight: bold;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        transition: 0.2s;
        position: relative;
        z-index: 2;
    }

    button:hover {
        transform: scale(1.1);
    }

    #yesBtn {
        box-shadow: 0 0 18px rgba(255, 120, 170, 0.8);
        animation: yesPulse 2s ease-in-out infinite;
    }

    @keyframes yesPulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.08); }
    }

    #loveNote {
        display: none;
        font-size: 1.6rem;
        color: #c4004f;
        margin-top: 10px;
        text-shadow: 1px 1px white;
        animation: fadeIn 2s ease forwards;
        z-index: 2;
        position: relative;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }

    #fireworks {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        display: none;
        z-index: 1;
    }

    .kiss-heart {
        position: fixed;
        font-size: 2.2rem;
        color: #ff4fa3;
        animation: flyKiss 2s ease-out forwards;
        pointer-events: none;
        z-index: 3;
    }

    @keyframes flyKiss {
        0% { transform: translate(0, 0) scale(0.8); opacity: 1; }
        50% { transform: translate(40px, -60px) scale(1.1); opacity: 0.9; }
        100% { transform: translate(80px, -140px) scale(0.9); opacity: 0; }
    }
</style>
</head>

<body>

<div class="page-glow"></div>

<h1 id="title">Will you be my Valentine?</h1>

<script>
    // Floating hearts
    for (let i = 0; i < 20; i++) {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.textContent = "‚ù§";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDelay = Math.random() * 8 + "s";
        heart.style.fontSize = (Math.random() * 1.5 + 1.2) + "rem";
        document.body.appendChild(heart);
    }

    // Rose petals
    for (let i = 0; i < 18; i++) {
        const petal = document.createElement("div");
        petal.className = "petal";
        petal.textContent = "‚ùÄ";
        petal.style.left = Math.random() * 100 + "vw";
        petal.style.animationDelay = Math.random() * 10 + "s";
        petal.style.fontSize = (Math.random() * 1.2 + 1.2) + "rem";
        document.body.appendChild(petal);
    }
</script>

<div class="bunny-wrapper">
    <div class="bunny-aura"></div>
    <img id="bunny" class="idle-bounce" src="bunny.png" alt="Cute bunny princess">
    <div class="sparkle" style="top: -10px; left: 40px;">‚ú®</div>
    <div class="sparkle" style="top: -20px; right: 40px; animation-delay: 0.6s;">‚ú®</div>
    <div class="sparkle" style="bottom: 10px; left: 60px; animation-delay: 1.2s;">‚ú®</div>
    <div class="sparkle" style="bottom: 0px; right: 60px; animation-delay: 1.8s;">‚ú®</div>
    <div class="cheek-heart" style="top: 55%; left: 30%;">‚ù§</div>
    <div class="cheek-heart" style="top: 55%; right: 30%; animation-delay: 1.5s;">‚ù§</div>
</div>

<div class="btn-container">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
</div>

<canvas id="fireworks"></canvas>

<div id="loveNote">You are my favourite human in the whole universe.</div>

<script>
    const noBtn = document.getElementById("noBtn");
    const yesBtn = document.getElementById("yesBtn");
    const bunny = document.getElementById("bunny");
    const fireworks = document.getElementById("fireworks");
    const loveNote = document.getElementById("loveNote");
    const title = document.getElementById("title");

    /* -------------------------
       NO BUTTON ‚Äì FIXED LOGIC
       ------------------------- */

    // Make No fixed to viewport so it never depends on layout
    noBtn.style.position = "fixed";
    noBtn.style.zIndex = "10";

    function clamp(value, min, max) {
        return Math.min(Math.max(value, min), max);
    }

    // Initial position (bottom right-ish)
    function placeNoStart() {
        const padding = 20;
        const maxX = window.innerWidth - noBtn.offsetWidth - padding;
        const maxY = window.innerHeight - noBtn.offsetHeight - padding;

        const x = clamp(window.innerWidth * 0.6, padding, maxX);
        const y = clamp(window.innerHeight * 0.7, padding, maxY);

        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";
    }

    window.addEventListener("load", () => {
        // small timeout to ensure sizes are known
        setTimeout(placeNoStart, 50);
    });

    window.addEventListener("resize", placeNoStart);

    function moveNoButton() {
        const padding = 20;
        const maxX = window.innerWidth - noBtn.offsetWidth - padding;
        const maxY = window.innerHeight - noBtn.offsetHeight - padding;

        let x = Math.random() * (maxX - padding) + padding;
        let y = Math.random() * (maxY - padding) + padding;

        x = clamp(x, padding, maxX);
        y = clamp(y, padding, maxY);

        noBtn.style.left = x + "px";
        noBtn.style.top = y + "px";
    }

    document.addEventListener("mousemove", (e) => {
        const rect = noBtn.getBoundingClientRect();
        const noX = rect.left + rect.width / 2;
        const noY = rect.top + rect.height / 2;
        const dist = Math.hypot(e.clientX - noX, e.clientY - noY);

        if (dist < 150) {
            moveNoButton();
        }
    });

    noBtn.addEventListener("mousedown", (e) => {
        e.preventDefault();
        moveNoButton();
    });

    /* -------------------------
       YES BUTTON LOGIC
       ------------------------- */

    yesBtn.addEventListener("click", () => {
        bunny.classList.remove("idle-bounce");
        bunny.classList.add("dance");

        title.textContent = "I love you forever!!";
        title.classList.add("title-love");

        fireworks.style.display = "block";
        setTimeout(() => { loveNote.style.display = "block"; }, 800);

        startFireworks();
        startCuteLoop();
        sendFlyingKisses();
    });

    function startCuteLoop() {
        setInterval(() => {
            bunny.classList.add("wave");
            setTimeout(() => bunny.classList.remove("wave"), 1000);
        }, 4000);

        setInterval(() => {
            bunny.classList.add("blink");
            setTimeout(() => bunny.classList.remove("blink"), 250);
        }, 5000);
    }

    function sendFlyingKisses() {
        setInterval(() => {
            const rect = bunny.getBoundingClientRect();
            const heart = document.createElement("div");
            heart.className = "kiss-heart";
            heart.textContent = "üíã";
            heart.style.left = (rect.right - rect.width / 4) + "px";
            heart.style.top = (rect.top + rect.height / 3) + "px";
            document.body.appendChild(heart);
            setTimeout(() => heart.remove(), 2100);
        }, 2500);
    }

    function startFireworks() {
        const canvas = fireworks;
        const ctx = canvas.getContext("2d");
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        const particles = [];

        function createFirework() {
            const x = Math.random() * canvas.width;
            const y = Math.random() * canvas.height / 2;
            const colors = ["#ff4fa3", "#ff99cc", "#ff0066", "#ffccdd", "#ffffff"];
            for (let i = 0; i < 50; i++) {
                particles.push({
                    x: x,
                    y: y,
                    angle: Math.random() * 2 * Math.PI,
                    speed: Math.random() * 4 + 1,
                    radius: Math.random() * 3 + 1,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    life: 60
                });
            }
        }

        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach((p, i) => {
                p.x += Math.cos(p.angle) * p.speed;
                p.y += Math.sin(p.angle) * p.speed;
                p.life--;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                ctx.fillStyle = p.color;
                ctx.fill();
                if (p.life <= 0) particles.splice(i, 1);
            });
            if (Math.random() < 0.08) createFirework();
            requestAnimationFrame(animate);
        }

        createFirework();
        animate();
    }

    window.addEventListener("resize", () => {
        fireworks.width = window.innerWidth;
        fireworks.height = window.innerHeight;
    });
</script>

</body>
</html>
